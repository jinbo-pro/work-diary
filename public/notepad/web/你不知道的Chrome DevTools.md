# 你不知道的 Chrome DevTools

[toc]

【[原文](https://mp.weixin.qq.com/s/Tq-eY9PEaZt3nMAznmtD7Q)】

## 1 动态修改元素样式类名

增删类名在条件逻辑中比较常见，通过 devtools 柯基直接动态修改/激活/禁用类名

1. 在 dom 数中选中元素
2. 点击激活`.cls`
3. 可荣国选择框动态修改是否使用改类名
4. 通过`Add new class`输入框添加已定义类名

> 小技巧：也可以通过 dom 元素中直接编辑 class 名实现

## 2 强制激活伪类

网页中一些动效基于例如`:active :hover`等当鼠标移动到控制台时，这些伪类就不生效，在控制台中也无法调试 css 样式，此时可以使用强制激活伪类

- 操作方式一

1. 选中具有伪类效果的元素
2. 点击`:hov`
3. 根据代码情况，勾选相应伪类
4. 在 style 面板就可以动态调试伪类样式了

- 操作方式二

1. 在 dom 数右键菜单->`Force State`->勾选对应伪类

## 3 计算样式定位到 css 规则

css 样式的嵌套有时候很深，只有定位到最终表现生效的 css，才能做出有效的修改

1. 在`computed`面板中的`filter`输入框选样式属性名
2. 展开属性，可以看到多处定义的样式，但是只有第一行生效
3. 鼠标`hover`时左侧显示`->`点击可以跳到 style 面板的 css 规则
4. 然后就可以修改样式

> 使用场景：在样式比较多，覆盖层级多是可以快速定位需要调整的样式

## 4 颜色选择器

1. 找到 css 中设置的颜色属性
2. 点击颜色值左侧的色彩方块即可打开颜色选择器

## 5 阴影选择器

1. 点击`box-shadow`属性右键的层叠图标即可打开阴影选择器
2. 通过选择面板可以可视化的调整阴影

## 6css 属性值快速调整

- +-0.1`alt`+滚轮
- +-1 滚轮
- +-10`shift`+滚轮
- +-100`Ctrl`+滚轮

## 7animation 动画调试

1. 打开控制台，键盘按下 Esc，调出 Console 面板
2. 点击 Console 面板左上角的竖三点，弹出菜单选择`Animations`即可打开动画调试面板

> 在动画面板可以调试动画的播放，暂停，减速时间控制等

## 8 复制控制台变量到剪贴板

Console 面板输出了很多日志，当我们想要复制一个打印的复杂对象时，发现直接复制会导致数据丢失，此时只需要一个`copy()`函数，即可将变量复制到剪贴板

1. 选择打印的对象右键->选择`Store object as global variable`
2. 此时对象会暂存在一个全局对象`temp1`或`temp2`等
3. 然后控制台输入`copy(temp1)`即可将变量复制到剪贴板

## 9 网页可视化编辑

- `document.body.contentEditable="true"`
- 或`document.designMode = "on"`

> 开启 此功能可以向 world 一样编辑当前页面

## 10 模拟弱网环境

在`Network`下点击`Online`可以选择模拟弱网环境可以选择缓慢的 3G 网络，好的 3G 网络，或者自定义网络

> Firefox 浏览器还支持可以模拟 2G，3G，4G 网络和 WiFi 等，还有缓慢的和快速的选择

## 11XHR 重放

请求会在`Network`下记录，选中对应的记录点击`Replay XHR`即可再次发送，也可以选择 copy 导出请求

> Firefox 浏览器还可以支持编辑重发，这个很强，相当于一个简单的 fiddler 了

## 12 不一样的 console

### 12.1 不同的输出等级

- .log 普通打印
- .info 和不同打印差不多
- .debug 调试打印
- .warn 警告打印左侧有警告标志
- .error 报错打印左侧有错误标志

### 12.2 占位符

使用`%c`占位符，可以像写行内样式一样，自定义输出内容的样式

`console.log('%chello world', 'color:red;font-size:32px;')`

这样可以打印出各种带样式的日志了

### 12.3 表格型展示 JSON 数据

```js
var list = [
  { name: 'jack', age: 18 },
  { name: 'tom', age: 22 }
]
```

`console.table(list)`输出如下格式

| (index) | name   | age |
| ------- | ------ | --- |
| 0       | "jack" | 18  |
| 1       | "tom"  | 22  |

## 13Performance 性能监控

在`Performance`下点击小红点即可录制当前页面引起的电脑性能变化图

录制一会儿就可以查看对应的性能变化图了

可以看到内存占用情况，js 调用栈等等

> 这个更多的使用在优化方面，可能现在还有点用不上

## 14 Source 源码调试

> 可在此进行变量调试，堆栈跟踪等各种强大的操作，具体可以参见 js 调试

## 15Coverage 代码使用率统计

在`more tools`菜单中可选择`Coverage`工具查看代码使用率统计

可进行 js 和 css 的代码统计
