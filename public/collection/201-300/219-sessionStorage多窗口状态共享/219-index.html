<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="lijinbo" />
    <title>219-sessionStorage多窗口状态共享</title>
    <style></style>
  </head>

  <body>
    <p>
      参考文章：
      <a href="https://mp.weixin.qq.com/s/dIEjNXHskVr36PVqJv41CA" target="_blank">
        面试官：你确定多窗口之间sessionStorage不能共享状态吗?
      </a>
    </p>
    <p>
      点击 设置 按钮会新建一个 sessionStorage，然后点击新建页面会发现 sessionStorage
      复制了一份一样的，然后在新的页面继续修改 sessionStorage 发现之前的页面sessionStorage不会修改，
      <b> 所以sessionStorage多窗口是状态复制不是共享 </b>
    </p>
    <button onclick="setStore()">设置</button>
    <hr />
    <button onclick="newOpen()">新建页面</button>
    <script>
      function setStore() {
        console.log(678, '-->>> 678')
        sessionStorage.setItem('temp', Date.now())
      }

      function newOpen() {
        window.open(location.href)
      }
    </script>
    <script defer type="module" src="/utils/module/scriptTagToText.js"></script>
  </body>
</html>
